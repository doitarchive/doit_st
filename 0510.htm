<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: 68060 Processor Upgrade For Milan
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="05.htm" target="UDOcon"><img src="udo_up.gif" alt="Milan Hardware" border=0 width="24" height="24"></a>
<a href="050f.htm" target="UDOcon"><img src="udo_lf.gif" alt="Milan CD ROM Laufwerk" border=0 width="24" height="24"></a>
<a href="06.htm" target="UDOcon"><img src="udo_rg.gif" alt="Hades Hardware" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="UDO_68060_20Processor_20Upgrade_20For_20Milan">5.16 68060 Processor Upgrade For Milan</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> 68060 Processor Upgrade For Milan </tt>
<br>
<br>
<br>
</p>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p>
<br>
<br>
</p>
<div align=center>68060 Processor
<br>Upgrade For Milan
</div>
<p>
<br>Peter Slegg gives his TOS-compatible the Speedy Gonzales
treatment, though not without pain and tears
<br>
</p>
<p><b> Power user? </b>
<br>I never really considered myself a power user but as I sit in
front of my Milan060 I am beginning to wonder.
<br>
</p>
<p>When I got the Milan I was more than happy with the great leap in
performance above the STFM, besides there were too many other features
to think about. Then I read Ingo Schmidt's web site and decided to fix
the SCSI firmware and have a go at overclocking the motherboard from
25 MHz to 30 MHz. Thanks to Ingo it worked brilliantly and the extra
20% performance was noticeable and welcome. Alas this only whetted my
appetite for even more speed.
<br>
</p>
<p>The next obvious step was a 68060 upgrade kit. I contacted Woller
Systeme but they had none left so I asked Uwe Schneider if he had any.
Fortunately he had some of the upgrade cards but he only had 68060 LC
processors left. The LC has no floating point unit but it can still be
used, however, I decided to order a full 68060 from Vernal Elm in the
USA.
<br>
</p>
<p><b> Fitting </b>
<br>The <a href="080108.htm" target="UDOcon">CPU</a> arrived followed by the upgrade card and I thought I was
only hours away from having a Milan060. The installation is very
simple to anyone familiar with SIMM or TOS upgrades in an ST. The card
includes a floppy disk containing the latest bootblock and TOS which
must be flashed onto the ROMs before the adapter is fitted. Since
getting my Milan there have been several improvements to the bootblock
and TOS so I was familiar with this step. Next I fitted the 68060 into
the socket on the adapter board and dismantled my tower case to gain
access to the 68040. I very carefully levered the 68040 out of the
motherboard and found that the <a href="080108.htm" target="UDOcon">CPU</a> actually sits on a PCB not much
bigger than itself. This board can be removed or left in place, I
decided to remove it. The new 68060 adapter board is slightly larger
and has a cut-out at one corner to avoid some components on the
motherboard. It is fairly easy to align and insert into the socket on
the motherboard.
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/milan02.gif" border=0 width="381" height="267"></p><br>
<p>
<br>
</p>
<p><b> Testing times </b>
<br>
</p>
<p>After making lots of checks and double checks I reconnected the
Milan and switched on. There should have been a bleep, a quick flash
of the keyboard LEDs and the monitor should have sprung into life.
Instead, all I could see was the LED on the monitor flashing away.
Clearly something was wrong. This began several weeks of checking,
testing, cursing, unplugging and plugging, more cursing and lots of
e-mails between Uwe and I, and several visits to the post office. I
tried everything from removing as many PCI and ISA cards as possible
to re-arranging the SIMMs, even disconnecting the CD drives.
<br>
</p>
<p>Eventually we decided the problem was that the 68060 wasn't fully
seated in the adapter so I posted the kit and <a href="080108.htm" target="UDOcon">CPU</a> to Germany and Uwe
used an insertion tool and was able to check that all was well with
the adapter. Once it was back here I tried it again in my machine only
to have the same disappointing result. I repeated all of the tests and
then we decided that the only option was to send the whole motherboard
to Uwe with the adapter.
<br>
</p>
<p>Of course it worked perfectly for Uwe so he returned it. Next I
borrowed some old Trio graphics cards and tried those. Still no luck
so Uwe sent me a special card called a Power-On Self-Test (POST) card
along with an ISA card that displays various status codes on a
7-segment display while the Milan is booting. I tried it with the
68040 to get an idea what should happen and noted the various status
codes. When I installed the 68060 and booted up, nothing was displayed
and this meant that the actual cause of all these woes was the PSU! In
Uwe's words, &quot;We had problems with the initialisation of some S3
cards depending which power supply we used. After measuring the
power-up ramp of the 5 V supply voltage we discovered that we had
problems with the slow ones. With a slow power-up ramp the PLL of the
VGA-card didn't swing. We fixed this in software for the VGA cards,
but maybe there is another problem with the processor, which we didn't
recognize until now.&quot;
<br>
</p>
<p>My understanding is that if the PSU doesn't power-up fast enough
then the graphics card doesn't activate and the whole boot process
stops. My solution was to salvage a PSU from a broken 486 machine and
replace the one in my tower. What a nightmare and hopefully one that
other users will not experience.
<br>
</p>
<p>The final step was to fit the 486 cooling fan onto the new <a href="080108.htm" target="UDOcon">CPU</a>.
The 68060 runs at twice the motherboard clock speed so some sort of
heat sink is needed. The heat sink is interfaced with a small amount
of thermal paste and attached with superglue at each corner. The
original 68040 had plastic clips on the legs that allowed a small heat
sink to be attached with a wire clip. Since I was planning on running
the Milan at 30/60 MHz I thought the fan would be a good idea. More on
this later.
<br>
</p>
<p>When I switched on the Milan it said 68060 60 MHz and immediately
the boost in performance was very noticeable. I haven't found any
software problems or any decrease in stability. One thing didn't work,
however. For some reason during the process of dismantling and
rebuilding the Milan I found that my SCSI scanner refused to work with
the motherboard clocked at 30 MHz. When scanning, the Milan would
crash and I found this was also happened when accessing my EZ-Flyer
hard disk. Reluctantly I switched back to 25 MHz (<a href="080108.htm" target="UDOcon">CPU</a> 50 MHz). Now I
am tempted to fit a switch so I can drop to 25/50 MHz when using my
scanner. I am now wondering if this problem is caused by the change of
PSU
<br>
</p>
<p><b> Conclusion </b>
<br>So what is the performance like? Well I didn't do many benchmarks
with the two set-ups but I did run the Kronos tests. Processor/FPU
functions are twice as fast as before and OpenGL is over 1.5 times
faster, even VDI shows a slight improvement. In daily use everything
seems faster apart from disk access. However, it is not just a case of
doing the same things faster, the Milan060 can do things that the 040
could not do and Aniplayer is probably the best example of this.
CD-quality MP3 music files were not playable on the 040, the sound
used to jump like the needle was stuck (showing my age). Now they play
at about 80-90% <a href="080108.htm" target="UDOcon">CPU</a> load and usually only skip when another program
accesses the hard disk. Even movie files with sound play quite well
provided the image is not too large. Other <a href="080108.htm" target="UDOcon">CPU</a> intensive tasks like
displaying PDFs or large JPEGs benefit from the extra speed and I have
very quickly become used to the speed, it's a bit like buying a faster
car, after a few weeks you don't notice.
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/kronoscp.gif" border=0 width="430" height="276"></p><br>
<p>
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/kronosfp.gif" border=0 width="430" height="263"></p><br>
<p>
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/kronos3d.gif" border=0 width="430" height="276"></p><br>
<p>
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/kronos_s.gif" border=0 width="430" height="299"></p><br>
<p>
<br>
</p>
<p>Kronos 1.0 benchmark results.
<br>
</p>
<p>
<br>
<br>
</p>
<p>Looking at the benchmarks, Hades 68060 owners are probably feeling
quite happy but I am certainly not disappointed with the result and I
am very happy that I chose to fit the upgrade.
<br>
</p>
<p>For anyone interested in becoming a Milan power user, Uwe
Schneider still has some 68060 adapters available.
<br>
</p>
<p><b> About Uwe Schneider </b>
<br>&quot;In 1989 some friends of mine and I founded a small company.
We distributed Atari computers and some expansions (memory, hard
drives, HD floppy drives and so on). In these years I learned a lot
about the Atari hardware and toyed with the idea to create a new
Atari. After college in 1996 I founded my own company and some time
later during the Atari fair in Neuss we were sitting together by some
beer and were talking again about a new Atari. I said it wouldn't be
so difficult... and after a while Ali [Goukassian] said, &quot;OK make
it&quot; and the Milan was born. I think it was the spirit of Atari
which made this dream come true. We all had some other business to get
our rent paid and this was good because the whole Milan project never
paid off. But the joy of creating a new Atari was worth all the
trouble.&quot;
<br>
</p>
<p>
<br>
</p>
<p align=center><img src="image/uwe.gif" border=0 width="200" height="256"></p><br>
<p>
<br>
<br>
</p>
<p align=center><img src="image/060adp.gif" border=0 width="430" height="345"></p><br>
<p>
<br>
</p>
<p>Appendix: The Milan 68060 processor adapter in detail
<br>
</p>
<p>
<br>
<br>1. Tantalum capacitors
<br>2. Diodes
<br>3. IC 74F157
<br>4. Pull-up resistor network
<br>5. Ceramic capacitors
<br>6. Low-drop voltage regulator mounting holes
<br>
</p>
<p>The main difference between the 040 and 060 for a hardware
designer is the different core voltage. The 040 has 5 V and the 060
3.3 V. For compatibility reasons the 060 has the same power pins as
the 040. That was the reason to make the two-PCB solution. The lower
board is connected to the 5 V power supply pins and contains the
low-drop regulator (6) for the 3.3 V, some capacitors (1) for
filtering the power lines, the three diodes (2) for the power-up
sequence of the 060 and an integrated circuit (3) for the different
strapping options of the 060. The upper board is connected to the 3.3
V power pins and contains the ceramic bypass capacitors (5) and the
necessary pull-ups (4) to 3.3 V. The upper board gets its 3.3 V from
the additional contacts on the left side of the <a href="080108.htm" target="UDOcon">CPU</a>.
<br>
</p>
<p>All other pins besides the power and the strapping pins are
connected directly through the precision contacts in the upper and the
lower board.
<br>
</p>
<p>Thanks to Uwe Schneider for the technical information.
<br>
</p>
<p><b> Useful links </b>
<br>
</p>
<p>* <a href="http://olivier.landemarre.free.fr/gem/kronos/kronos.htm" target="_top">Kronos</a>
<br>* <a href="http://www.uweschneider.de" target="_top">Schneider GmbH</a>
<br>* <a href="http://www.vernalelm.com" target="_top">Vernal Elm LLC (68060 chips)</a>
<br>
</p>
<p>
<br>
<br>Thank you to Matthew Beacon to give the permission
<br><a href="http://www.myatari.org" target="_top">MyAtari</a>
<br><a href="http://www.myatari.org/issues/apr2003/milan060.htm" target="_top">MyAtari original article</a>
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="05.htm" target="UDOcon"><img src="udo_up.gif" alt="Milan Hardware" border=0 width="24" height="24"></a>
<a href="050f.htm" target="UDOcon"><img src="udo_lf.gif" alt="Milan CD ROM Laufwerk" border=0 width="24" height="24"></a>
<a href="06.htm" target="UDOcon"><img src="udo_rg.gif" alt="Hades Hardware" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>

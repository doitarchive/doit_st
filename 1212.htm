<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: Overscan
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="12.htm" target="UDOcon"><img src="udo_up.gif" alt="Video" border=0 width="24" height="24"></a>
<a href="1211.htm" target="UDOcon"><img src="udo_lf.gif" alt="Composit Video" border=0 width="24" height="24"></a>
<a href="121201.htm" target="UDOcon"><img src="udo_rg.gif" alt="TT Overscan" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="Overscan">18.18 Overscan</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Overscan display expansion </tt>
<br>
<br>
</p>
<p><img src="image/english.gif" border=0 width="35" height="22"></p><br>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p>
<br>
</p>
<div align=center>Stefan Hartmann
<br>Electronic Research and Development
<br>Keplerstrasse 11 B
<br>1000 Berlin 10
<br>West-Germany
<br>Tel: West-Germany/30 344 23 66,
<br>email on Compuserve ID: 72017,3216
<br>
</div>
<p>
<br>
<br>
</p>
<p>&quot;Hey You man, wanna have some Overscan ?&quot;
<br>
</p>
<p>Introduction of an &quot;Xtended Graphics Mode&quot; for the Atari
ST Computers(!nl)
</p>
<p>from Stefan Hartmann (Hardware and article)
<br>and Carsten Isakovic(Software:Overscan.PRG)
<br>
</p>
<p>
<br>
<br>If You are a graphics freak and an owner of an <a href="0305.htm" target="UDOcon">Atari ST</a> computer
You might have been looking with keen eyes into the direction of the
Commodore Amiga Computer and have been thinking about selling Your
32000 Bytes Sreen Memory Machine and gonna buy the Interlace- HAM-Baby
?
<br>
<br>
</p>
<p><b> Stop it man ! This article will tell You why ! </b>
</p>
<p>With a simple switch (cost about a buck) and additionally only at
the STM520: 2 Rectifier diodes, 2 Resistances, a NPN Transistor and a
capacitor, we will show You how to get a visible 59640 Bytes big
Screen Memory (in 50 Hertz Mode). (the following description will
apply for 50 Hertz mode , 60 Hertz Mode and Monochrome-Overscan-Mode
has some other sreen memory size)
<br>
<br>
</p>
<p><b> What does this mean ? </b>
</p>
<p>This means in Low resolution mode there are now 420*284 Pixels
available to display, still 16 colors per pixel. In midres resolution
there we have now the gorgious resolution of 840*284 Pixel, still 4
colors per dot. In monochrome mode we get now 688*480 pixel with a
well adjusted SM124 monochrome monitor !
<br>
</p>
<p>Well this means, in color mode there is no more screen window
visible but pixels all over the screen, indeed some pixels You'll
never see, because they hide behind the left and right monitor tube
border till You adapt Your horizontal screen width !
<br>
</p>
<p>The same thing is available on the Amiga. There they call this
mode :
<br>
</p>
<p>OVERSCAN.
<br>
</p>
<p>This overscan mode is now with this article also possible for all
the <a href="0305.htm" target="UDOcon">Atari ST</a> computers, from the 512KB 260 machine to the Mega ST 4 !
<br>
</p>
<p>That means the <a href="0305.htm" target="UDOcon">Atari ST</a> can now like the Amiga be used for
semi-professionel <a href="0903.htm" target="UDOcon">Desktop</a>-<a href="12.htm" target="UDOcon">Video</a> applications for examle together with
a genlock-interface to get a scrolled text message in the lower border
of a video movie.
<br>
<br>
</p>
<p><b> How was this little hardware modification found ? </b>
</p>
<p>The story of the Overscan modification began, when some month ago
I got a demo disk on which a nice grahic screen appeared. But what the
hack was this ? In the lower border of the ST screen was a scrolling
text message ! How to come ? Had my monitor been shifted away ?
<br>
<br>
</p>
<p><b> Not at all ! </b>
</p>
<p>I couldn`t trust my eyes ! This programmer called Alyssa (special
nickname of this hacker-guy) had programmed a very fine flowing
scrolling text message out of pixel graphics at the bottom of the
screen where normally only the color palette register 0 (that means
the static border color) is available !
<br>
</p>
<p>Did this guy found an undocumented &quot;poke&quot; to switch off
the lower border and display further pixel graphics,which Mr. Shiraz
Shivji (the father of the ST) didn't told us ?
<br>
<br>Not at all ! He had found the software-trick, that if the picture
frequency is shortly switched inside the 199th scan line from 50 to 60
Hertz the result is that the Glue chip is disturbed, so that it holds
its Display-Enable-Signal longer at High(5 Volts)-Level and this tells
the <a href="080105.htm" target="UDOcon">MMU</a> and the <a href="12.htm" target="UDOcon">Video</a>-<a href="080106.htm" target="UDOcon">Shifter</a> to display Pixel-Graphics till the end
of the screen.(but still with a left and right border) What a guy ! He
must have been poked &quot;till the shit hits the fan(Glue)&quot; !
<br>
</p>
<p>To understand all this screen manipulation I have shortly to
explain how the ST generates its picture in color mode: In 50 Hertz
Mode the screen is build up of 313 scan lines which are 50 times per
second written onto the tube. (In 60 Hertz mode there are 263 scan
lines displayed)
<br>
</p>
<p>This means that the Atari doesn't work with Interlace, the so
called &quot;half frames&quot; (semi frames) are placed precisely one
upon onother so there is no placement shifting like in TV-Systems
(e.g. NTSC).
<br>
</p>
<p>Normally in 50 Hertz mode the first 39 scan lines are displayed
without pixel graphics but with background color palette 0. This is
the upper Border. Then there are 200 scan lines in which the normal
Screen window is displayed but still with this left and right border,
which is still generated from palette 0.
<br>
</p>
<p>The following 45 scan lines display the lower border, still
palette 0. (normally no pixel graphics available) The last 29 scan
lines of the total 313 lines are not visible, because they are used
for vertikal blanking. This is needed to synchronize the picture
frequency of a connected monitor.
<br>
</p>
<p>The Blanking is done by the blank-signal that is also generated by
the Glue chip and this signal switches the RGB-D/A-Resistor-Converter
to Zero when the vertikal blank period is active. (In 60 Hertz Mode
the normal mode is : upper border 14 scan lines, 200 display lines, 24
lower border scan lines and 25 scan lines blanked)
<br>
</p>
<p>A few months ago there arrived the 2 new demo programs
&quot;Amiga-Demo&quot; from the TEX-Programmers ( some special
assembler graphics wizzards ) and the LT.PRG (the death of the left
border) of the TNT-Crew. This 2 programs blowed my mind because they
already featured pixel graphics inside the right (Amiga-Demo) and in
either border(left and right, LT.PRG). How this is possible I don't
know yet, because the assembler code is very sophisticated crypted so
no chance for a tracking monitor program disassembler. But it's
possible that they use a 50 Hertz to 71 Hertz switching every scanline
synchronized with the video adress counter. Must be very tricky code !
They wanna keep this still a secret ! (In the meantime February `89
the gorgious UNION-Demo was launched: Level 16 has now implemented a
full software controlled Overscan screen with no borders at all!;
unbelieveable, but very timeconsumming interruptprogramming; not much
time left for animation !)
<br>
</p>
<p>I thought, wow !
<br>If these guys are able to display some border graphics with some
very tricky but time consumming code how about trying to convince the
little <a href="080106.htm" target="UDOcon">Shifter</a> to do this with a simple hardware modification and
without any time consumming calculations ?
<br>
<br>
</p>
<p><b> No problem ! </b>
</p>
<p>I fetched my scope, booted the Amiga-Demo and switched between the
additional right border pixel display and normal mode. At this time I
took a closer look with the scope next to the <a href="080106.htm" target="UDOcon">Shifter</a> area of the ST
board. That's it! I recognized that if I switched the modes, the
Display-Emable-Signal changed its puls-stop relationship.
<br>
</p>
<p>The Display Enable Signal determines if pixel graphics should be
displayed by the <a href="080106.htm" target="UDOcon">Shifter</a> or if the border should be displayed (palette
register 0). Every time if this signal goes high, pixel graphics is
displayed, if it is low, palette 0 is displayed.
<br>
</p>
<p>The Display Enable signal is generated by the Glue, like the
Blank-, HSync- and VSync-Signal which are all used to generate the
picture. The DE-Signal also goes to the <a href="080105.htm" target="UDOcon">MMU</a> and the Timer B Input of
the MFP chip (for counting the scan line through interrupt routines).
<br>
</p>
<p>The screen is build up with the following sequence :
<br>The vertical Sync signal which is not only going to the monitor
connector bush but which comes from the Glue and is also controling
the <a href="080105.htm" target="UDOcon">MMU</a> is telling the internal counter of the <a href="080105.htm" target="UDOcon">MMU</a> to take over the
adress of the next &quot;semi frame&quot; from the video.bas adress
FF8201 and FF8203. If now the Display Enable signal goes high then the
DCYC (Display-Cycle-Clock) signal from the <a href="080105.htm" target="UDOcon">MMU</a> is activated which is
strobing the videodisplay information (pixel graphics) from the RAM in
16 bits words into the <a href="080106.htm" target="UDOcon">Shifter</a> for displaying.
<br>
</p>
<p>That means the DCYC signal clocks the Load Input of the <a href="080106.htm" target="UDOcon">Shifter</a>.
At this moment the internal counter of the <a href="080105.htm" target="UDOcon">MMU</a> is counting upwards.
</p>
<p>The actual adress is been written all 2 microseconds to the video
adress counter in FF8205/07/09. Remains at this point the Display
Enable Signal longer at high level, accordingly more memory RAM is
adressed as screen video ram by the <a href="080105.htm" target="UDOcon">MMU</a> and still transfered to the
<a href="080106.htm" target="UDOcon">Shifter</a> during every scan line!
<br>
</p>
<p>So with the Puls Stop relationship of the DE signal we can
determine the size of the screen window. At last we have the Blank
signal which is also blanking the video signal from the RGB-Converter
during horizontal flyback time and vertikal snchronisation time (as
mentioned above). To complete the description, there is still the CMPS
Signal (Color Map Chip Select), which is generated by the <a href="080105.htm" target="UDOcon">MMU</a> and
which is only changing for telling the <a href="080106.htm" target="UDOcon">Shifter</a> to load a new color
palette. (what will Spectrum 512 look in Overscan mode: super gorgious
!)
<br>
</p>
<p>Conclusion:
<br>
</p>
<p>How do I find the right signal in exchange for the DE signal ?
<br>
</p>
<p>Looking around inside the ST I found the Composite Sync Signal
which is generated by an AND-Combining of the HSync and VSync Signals.
One can use the already installed Composite Sync Signal which feeds
the monitor bush connector. Make sure to use the Composite Sync Signal
directly from the Emitter of the driver (buffer) transistor. (Take a
look into Your circuit diagram of Your ST!) At the 520 STM (the STs
with RF-modulators) there the internal Composite Sync Signal is
missing. Here You have to add the above mentioned circuit of 2
rectifiers, 2 resistors a transistor and a optional buffer capacitor(
buffers the collector(5Volts) of the transistor versus ground).
<br>
</p>
<p>This Composite Sync Signal is ideal for controlling the new
Overscan mode. We have been trying other signal for example: only the
HSync, the VSync, the Blank signal or only permanent 5 Volts but this
doesn't work with either 50 and 60 Hertz and GEM couldn't be
installed.
<br>
</p>
<p>To find a better signal than the Composite Sync signal is not
possible with such a simple modification. The ST has only 4 signal
which come from the <a href="080107.htm" target="UDOcon">GLUE</a> which could be used to create a &quot; new
&quot; Display Enable signal, because all other signals vary !
<br>
<br>The only time invariant signals are :
<br>1. The old DE-Signal
<br>2. The HSync Signal
<br>3. The VSync Signal
<br>4. The BLANK Signal.
<br>
<br>And still the divided clock frequencies 2 MHz and 500 kHz. To
create a better signal than the composite sync signal one would have
to use some counters and dividers to build up a better
&quot;DE&quot;-signal. This would mean a lot of additional hardware!
<br>
</p>
<p>GEM needs a video scan line whose number has to be able to divide
by 4 to install it. So the Composite Sync Signal was the simplest
solution to find.
<br>
<br>
<br>
</p>
<p><b> Description of the Hardware Modification </b>
<br>
</p>
<p>The Display Enable Signal which is going to the <a href="080106.htm" target="UDOcon">Shifter</a> Pin 37 and
to the <a href="080105.htm" target="UDOcon">MMU</a> Pin 52 has to be cut and instead of this the Composite Sync
Signal has to be fed to this two Pins.
<br>
</p>
<p>This could be done by a simple 3 Pins switch which switches
between the original and the new Overscan Mode. The switch could be
installed at the back of the ST for example. It is also possible to
switch it during operation of the ST without hanging up. If You switch
back it might could happen, that the color palettes have been cycled.
<br>
</p>
<p>This is due to percussion during switching but could be removed by
switching 3 or 4 times again till the color palettes are in the right
order again. Hint: If there will a shifted palette as the desktop
appears, You have to switch again a few times the change-over switch
so due to percussion this shifted palettes will disappear! This
shifted palettes only sometimes occur during booting but this is the
only time !
<br>
<br>
</p>
<p><b> How to connect and wire the Overscan-change-over-switch: </b>
<br>
</p>
<p>Directly at the Emitter of the Composite Sync signal driver
Transistor You pick up the buffered Composite Sync Signal and feed it
to the third pin of the switch. The second pin of the switch (the pin
in the middle) goes to the pin 37 of the <a href="080106.htm" target="UDOcon">Shifter</a> and pin 52 of the
<a href="080105.htm" target="UDOcon">MMU</a>. The first pin of the switch is connected to pin 39 of the Glue
(Display Enable Signal) Reminder: the MFP 68901 pin 20 still gets the
Display Enable Signal in both modes !!! We have tried to use also the
Composite Sync for the Timer B-Input in Overscan mode, but then the ST
doesn't boot himself after a Reset !
<br>
<br>
</p>
<p><b> Softwareadaption to the Overscan Mode </b>
<br>
</p>
<p>If You switch directly from the normal desktop after booting
without any accessories or programs to the Overscan mode, You will see
some nice &quot;pixel trash&quot; in the upper half of the screen, but
going from the very left to the very right.(without a border)
<br>
</p>
<p>But what has happened to the lower half screen ? There is some
pretty moiree jumping and changing in a strange pattern of 16 bits in
various colors !
<br>
</p>
<p>What is this, You will ask ?
<br>
</p>
<p>Don't worry, be happy !
<br>
</p>
<p>This is only the display of RAM databus signals !!!
<br>
</p>
<p>This happens because the normal <a href="12.htm" target="UDOcon">Video</a> screen display Ram is
installed at the top of the available ST Memory. If switched to
Overscan the ST needs more than the 32kBytes but there at the top is
no more available, so behind the end of the RAM the ST displays the
undefinable Databus signals ! What a funny picture ! ( I just wonder
wether the first game will use this for displaying &quot;screen
communication problems&quot; like in the game: Carrier Command ?) So
the answer to get a correct full screen Overscan picture is : Write a
lower Adress into the Screen Starting Adress Pointer FF8201/03 ! But
then there is still the Pixel-Trash, but now all over the screen !
<br>
</p>
<p>This is because the color bit planes have changed their place.
This can be corrected by adapting the GEM.
<br>
</p>
<p>This was done by us by writing the Overscan.PRG which adapts the
GEM.
<br>
</p>
<p>It runs with the <a href="080104.htm" target="UDOcon">Blitter</a>-TOS and the new ROM-TOS 1.4 and the
BETA-RAMTOS and the Developer-RAMTOS 1.4, but not with the old ROMTOS
from 1985 !
<br>
</p>
<p>You start it out of the AUTO-folder of a disk or from the harddisk
and a whole new OVERSCAN-world opens up.
<br>
</p>
<p>If You push the CONTROL button during booting, it will come up
with an installation menu and You can change the Overscan-resolution,
so it will fit to Your monitor screen adjustment ! You can then save
this Overscan-adjustment, so it will boot itself up with the right
size the next time !(The installation menu is only available from
Overscan.PRG version 1.5 up)
<br>
</p>
<p>The GEM desktop with this resolution is just wonderfull !
<br>
</p>
<p>With this solution one can use already a few programs, which get
their screen parameters directly from GEM and don't write the graphics
directly into the screen memory, for example the DOODLE.PRG, Wordplus,
GEM Paint, Easydraw, Kuma Graph and Spreadsheet etc. These programs
and some more already work with Overscan in color and monochrome mode
!
<br>
</p>
<p>Unfortuneally the best two graphics programms, CAD3D from TOM
HUDSON and CYBERPAINT from JIM KENT don`t work at this moment with
this higher resolution.
<br>
</p>
<p>TOM and JIM are YOU jet listening to this ???
<br>Please try to adapt Your superb programs !!!
<br>
</p>
<p>This Overscan.PRG patches the TOS with the negative LINE
A-Variables, so every application, for example CAD3D only would have
to fetch the actual SCREEN SIZE with the command OPEN WORKSTATION
(VDIte this will also apply for the the new 19&quot; Matrix or Mat
Screen Monitors that are used espacially for DTP with Calamus and
other applications.
<br>
</p>
<p>Wouldn`t this be great to design Your objects on such a big screen
with CAD3D?
<br>
</p>
<p>Imagine an OVERSCAN-Delta-Animation in color played back in
realtime from a 800 MBYTE Hardisk, synchronized by midi-clock with a
midi-sequenzer (a second <a href="0305.htm" target="UDOcon">Atari ST</a> for example ) which is controlling a
complete orchestra of synthesizers ! What a realtime multi media show
this would be ! This could also open up a whole new world of
videomusic production in the Music-Business Industry !
<br>
</p>
<p>Still a few words to the screen-memory partitioning in OVERSCAN
mode in 50 Hertz image frequency:
<br>
</p>
<p>The visible screen memory is now 59640 Bytes (if Your monitor can
be regulated to this screen width and height). But because of the
Composite Sync Signal there are also pixels displayed during the
blanking time ( flybacktime) of one scan line. This are 26 Bytes per
scan line. This adds up to 7384 Bytes more than the visible 59640
Bytes. This means the actual size of the screen memory has to be 67024
Bytes big. (calculated for 50 Hertz, in 60 Hertz some other size will
fit)
<br>
</p>
<p>This about 7 kByte can be used for storing palette information or
other stuff. If it's to memory wasting the software could also store
only the 59640 Bytes for one screen but then reloading will take a
short moment longer, due to jump over the 26 unused Bytes in every
video scan line.
</p>
<p>Because of the puls stop relation time of the Composite Sync
signal during vertikal blanking time there are also some Pixels
transferred which aren't visible but blanked. That's why there has to
be an offset starting adress of about 5 kBytes subtracted from the
video.bas pointer registers FF8201/03.
</p>
<p>But this is already done too with our Overscan.PRG ! If we would
have tried to avoid these little two disadvantages we would have been
forced to generate a very special NEW DISPLAY ENABLE Signal which
would have been needed an anormous amount of counters and flip-flops.
So it's easier to live with this a little more memory consuming but
simple to install Composite Sync signal.
<br>
<br>
</p>
<p><b> The difference between 50 and 60 Hertz color mode : </b>
<br>
</p>
<p>In 50 Hz mode with using the Composite Sync signal You have 236
Bytes per scan line. 210 Bytes are visible . The other 20 Bytes aren't
visible because of horizontal flyback blanking ( the BLANK signal of
the <a href="080107.htm" target="UDOcon">GLUE</a> is doing his job during this time period !) Well, 236 Bytes
can be divided by 4 , this is what GEM needs. So 50 Hertz GEM SHELL
installation is no problem.
<br>
</p>
<p>In this moment our Overscan.PRG (version 1.6) runs the GEM SHELL
only in 50 and 71 Hz.
<br>
</p>
<p>In 60 Hertz mode You have 234 Bytes per scan line. This is only
dividable by 2! So it might be that we will get GEM only to work in
Mid-Res-mode in 60 Hz, but a special written Cyberpaint could also
handle 60 Hertz, if the color palettes are adapted the right way in
Lowres. There would have to be 2 different versions of Cyberpaint like
Spectrum 512, because in 50 Hz there are 512 clock cycles and in 60 Hz
there are 508 Clock cycles per scan line. In 60 Hz there are also only
238 visible scan lines instead of 284 of the 50 Hz mode.
<br>
</p>
<p>My proposal is, first to adapt CAD3D to 50 Hz mode so that the
created DELTA-files could then transfered to a special Cyberpaint that
might handle also 50 and 60 Hz mode.
<br>
</p>
<p>This Overscan-Cyberpaint then could also convert the 284 scan
lines pictures to the visible 238 NTSC compatible scan lines pictures
!
<br>
</p>
<p>So You could design Your CAD3D animation with a 50 Hertz bigger
screen and load it with Cyberpaint into a 60 Hertz compatible
animation ! How about this ???
<br>
<br>
</p>
<p><b> The monochrome Overscan-mode </b>
<br>
</p>
<p>When we developed the hardware Overscan mode for the first time in
end of september 1988, we only adapted the color mode. When we
switched to the monochrome mode , there the flyback beams of the
monochrome monitor SM124 were visible because in monochrome mode the
ST sends NO Blank-signal to the SM124 circuit. Look at it now in
monochrome Overscan-mode, before You boot the Overscan.PRG ! Now You
still also see the flyback beams because there is no flyback blanking
due to this new puls- stop- time- relationship of the composite sync
signal !
<br>
</p>
<p>So the SM124 has to blank the flyback beams itself. With the
normal DE-signal controling the picture size it's no problem. But we
did modify this with Overscan, so switched to the Composite Sync
signal for controling the picture size, we get now 800*500 pixels
generated by the ST in monochrome mode. But this is to much for the
SM124: It doesn't fit onto the screen of the SM124. This means: many
pixels are displayed during flyback time of the electron beam and we
get the unwanted visible flyback beams onto the screen. So we thought,
that the monochrome mode wouldn't be possible to install with the
Composite Sync signal.
<br>
</p>
<p>But then in January 1989 I had the idea to fill all the new screen
memory with $FF: And THAT`S IT : the whole screen was BLACK ! No more
flyback beams to see ! So it was possible to suppress the flyback
beams by adjusting the screen memory in this way, that in every
visible monochrome Overscan- scanline the last Bytes have to be set to
$FF !(so they are blanked and no more visible) Well, this is the trick
to install the GEM SHELL also in monochrome Overscan mode. With this
software adjustment we get now at maximum 688*480 pixel without
distortion on a, from the manufacturer well calibrated, SM124 monitor.
The resolution is again adjustable with our Overscan.PRG through the
installation menu.
<br>
</p>
<p>With a NEC Multisync monitor one gets already now 732 pixel in one
scan line, so it's now yet possible to do true HERCULES graphics
emulation, which needs only 720*350 pixel. With the NEC Multisync we
have now 732*480 pixel! Isn't that gorgious ?
<br>
</p>
<p>Maybee Avantgarde Software will fit their PC-Ditto to run this
fully emulated Hercules graphics mode ??? How about that ?
<br>
</p>
<p>There is the rumour that Mr.Sack from West Germany, who has
developed the first really running Hardware MS-DOS emulator will
include OVERSCAN for emulating the HERCULES graphics mode in the near
future !
<br>
</p>
<p>I'm just working now to modify the SM124 monitor with a little
additionally hardware, so it will also display at least the 720 pixels
in one scan line for Hercules emulation.
<br>
</p>
<p>Maybee I'll also get the full 800*500 pixel display to work on the
modified SM124 soon ?!
<br>
</p>
<p>(Take a look into the OVERSCAN.DOC-file fore more explanation of
the new screen memory partitioning in monochrome Overscan mode !)
<br>
<br>
<br>
</p>
<p><b> Final conclusion </b>
<br>
</p>
<p>Overscan brings a whole new world of applications to the ST
especially in <a href="0903.htm" target="UDOcon">Desktop</a>-<a href="12.htm" target="UDOcon">Video</a> and new Bigscreen-applications and
Hercules emulation in monochrome mode. In color mode there will be
programms like on the Amiga in two versions, one PAL and one NTSC
versions, unfortuneally.
<br>
</p>
<p>So there is still the hope that HDTV brings us a new world
standard in picture frequency and picture resolution, so everybody
could swap and exchange videotape cassettes with computer-graphics or
movies on it between Europe and America without needing to convert !
<br>
</p>
<p>I still hope, that Europe will change to 60 Hertz picture
frequency, because if not, we will have to program our next generation
of color computers, for recording HDTV graphics onto tape, again in
the flickering 50 Hertz mode. But because a new standard for
television surely remains at least for 20 years, please beware us of
the flickering 50 Hertz EUREKA-HDTV-Freaks-standard !
<br>
</p>
<p>It would be no problem to use already today 60 Hertz picture
frequency in Europe, as You can see it, if You connect Your ST to the
SCART(RGB-Inputs) connector of Your television set and then switch
Your ST to 60 Hertz by software !(change Hz.PRG) No problem at all !
<br>
</p>
<p>
<br>Literature:
<br>1. Data Becker : ST-Intern
<br>2. Circuit diagram of the ST computers
<br>3. Markt and Technik Verlag, ST68000 magazine,issue May and
<br>June 1989: &quot;Ausser Rand und Band mit Hyperscreen&quot;;
publishing of this article by the german
<br>ST68000 magazine
<br>
</p>
<p>
<br>
<br>West-Berlin, on the 2nd July 1989 Stefan Hartmann
<br>
</p>
<p>This article is copyright protected (c) 1989 and 1990
<br>
</p>
<p>P.S.: I have drawn some pictures with Degas monochrom of the new
screen partitioning and we have made some digitized photos, also PI3
format, which shows the board modification and the switch wiring.
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/overpic1.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p align=center><img src="image/overpic2.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p align=center><img src="image/overpic3.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p align=center><img src="image/overpic4.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p align=center><img src="image/overpic5.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p align=center><img src="image/overpic6.gif" border=0 width="640" height="400"></p><br>
<div align=center>
<br>
<br>
</div>
<p>
<br>
<br>
</p>
<p><b> This is how to install the Overscan </b>
<br>
</p>
<p>Copy the OVERSCAN.PRG to Your auto-folder on Your harddisk or if
You don't have a harddisk copy it to Your boot disk into an auto
folder.
<br>
</p>
<p>Copy also the VIDEO50.PRG to the auto-folder to make sure Your ST
will start with 50 Hertz picture frequency in color mode.
<br>
</p>
<p>If You still have the old ROMTOS from 1985 inside Your ST, then
copy also a BETA-RAMTOS 1.4 or the Developer-RAMTOS 1.4 to Your boot
disk into the root-directory ! This disk has to have then a bootable
sector, so that it will boot automaticaly the TOS.IMG-file (BETA- or
Developer-RAMTOS 1.4).
<br>
</p>
<p>(If You already have the <a href="080104.htm" target="UDOcon">Blitter</a>-TOS or the new (EP)ROMTOS 1.4
inside Your ST, then You only have to have the OVERSCAN.PRG and
VIDEO50.PRG inside the autofolder and don't need an additional RAMTOS)
<br>
</p>
<p>Switch the Overscan-switch to OVERSCAN and boot the disk or boot
from Your harddisk.
<br>
</p>
<p>If You press the CONTROL-, SHIFT-, or ALTERNATE- key, the
Overscan.PRG will come up with an installation menu. From this menu
You can fit the screen resolution to Your monitor size and still can
save this, so Your ST will start up with the right size the next time.
With key &quot;P&quot; You get the &quot;Physebase&quot;-emulator, so
Calamus DTP works now also !
<br>
</p>
<p>In color mode: If You want to change from lowres to midres go to
the &quot;change resolution&quot;-menu from the GEM SHELL and click
&quot;okay&quot; while depressing the CONTROL-,SHIFT-, or
ALTERNATE-key.Then the OVERSCAN-installation menu comes up again and
You can change to midres and the other way around. Use the arrow keys
and the + - * / keys to modify the size of the Overscan screen. The
HELP key brings You back to the menu. &quot;S&quot; saves the new
screen size and &quot;Q&quot; quits the menu without saving to
(hard)disk.
<br>
</p>
<p>Have fun with the Overscan, Stefan Hartmann.
<br>
</p>
<p>
<br>
<br><b> Problem while install Overscan to an STFM </b>
<br>
</p>
<p>I have been trying to instal OverScan to a STFM with TOS 1.4
<br>
</p>
<p>Strangely enough sorting out which track of the PCB to cut to
isolate the <a href="080105.htm" target="UDOcon">MMU</a> and <a href="12.htm" target="UDOcon">Video</a>-<a href="080106.htm" target="UDOcon">Shifter</a> proved to be easy, but I am having
difficulty in picking up the new Display-Enable signal from the
location the document instructs me to, and I quote:
<br>
</p>
<p>
<br>&quot;Make sure to use the Composite Sync Signal directly from the
Emitter of the driver (buffer) transistor. (Take a look at the circuit
diagram of your ST!)&quot;
<br>
<br>
</p>
<p>Well of course I haven't a circuit diagram, but I hope somebody
reading this will have. I've tried to trace where it should be
connected, but the PCB at this point is very congested and I can't
even decide which transistor is the one referred to.
<br>
</p>
<p>I have tried using the Composite-<a href="12.htm" target="UDOcon">Video</a> output, pin 2, of the
monitor socket unsuccessfully, but this failure is implied in the
instruction.
<br>
</p>
<p>The motherboard is marked C070789-001 REV.F2 and GX-211 VO 3890
<br>
</p>
<p>Would anyone have a circuit diagram from which they can tell me in
detailed layman's terms the right transistor to which to make this
connection?
<br>
</p>
<p>
<br>
<br><b> Die Aufl&ouml;sungs-Erweiterung Overscan </b>
<br>
</p>
<p>Mit einer originellen Idee und einer einfachen Schaltung, garniert
mit einem St&uuml;ck Software, l&auml;&szlig;t sich die
Bildschirmaufl&ouml;sung des ST massiv erh&ouml;hen. Das Produkt nennt
sich Autoswitch-Overscan und ist f&uuml;r DM 97,- erh&auml;ltlich.
<br>
</p>
<p>Overscan hat eine l&auml;ngere Entwicklungsgeschichte und tauchte
erstmalig unter dem Namen Hyperscreen in einer ST-Zeitschrift auf.
Damals waren als Hardware nur ein paar Kabel und ein Umschalter
notwendig. Die Software war frei und wurde mehrfach &uuml;berarbeitet.
<br>
</p>
<p>Die Entwickler haben sich nun hingesetzt, und aus der Idee ein
professionelles Produkt gemacht. Herausgekommen ist der
Autoswitch-Overscan, der die Aufl&ouml;sung des ST massiv erh&ouml;ht
und sich durch eine kleine Logik automatisch auf nicht
aufl&ouml;sungsunabh&auml;ngig programmierte Software einstellt.
<br>
</p>
<p>Die mit Overscan erzielbaren Aufl&ouml;sungen sind ph&auml;nomenal
und sollen selbst die Atari-Entwickler &uuml;berrascht haben. Ein
normaler ST mit der Overscan-Schaltung kann monochrom bis &uuml;ber
700 * 480, in der mittleren Aufl&ouml;sung bis &uuml;ber 800 * 280 und
in der niedrigen Einstellung bis zu 400 * 232 Pixel darstellen.
<br>
</p>
<p>Wie hoch die Aufl&ouml;sung getrieben werden kann, h&auml;ngt vom
verwendeten Monitor- Modell und teilweise auch von ger&auml;teeigenen
Eigenschaften ab. Die Entwickler geben beispielsweise f&uuml;r einen
SM124 von Atari eine monochrome Aufl&ouml;sung von 672 * 480 an, ein
NEC Multisynch GS bringt sogar 752 * 480. Mit Atari's SC1224 kommt man
auf 384 * 280 bzw. 752 * 280 - ein Multisynch oder ein AMIGA-Monitor
erreicht dagegen 400 * 280 bzw. 816 * 280 in Farbe. Ein Test mit einem
billigen portablen Fernseher erbrachte noch 352 * 272 bzw. 736 * 272
Pixel.
<br>
</p>
<p>M&ouml;glich wird das Ganze, indem - grob gesagt - der <a href="080106.htm" target="UDOcon">Shifter</a>
einen h&ouml;heren Takt erh&auml;lt. Dieser wird einfach an einer
anderen Stelle auf der ST-Platine abgegriffen und von der Hardware mit
dem <a href="080106.htm" target="UDOcon">Shifter</a> verbunden. Aufgrund der eingebauten Logik in zwei
GAL-Bausteinen kann die Verbindung und damit die Aufl&ouml;sung unter
Software-Kontrolle geschaltet werden. Der Software-Treiber
k&uuml;mmert sich im Kern um die Verwaltung des neuen
Bildschirmspeichers, erlaubt die Umschaltung der Aufl&ouml;sung und
bindet das Ganze in GEM ein.
<br>
</p>
<p>Overscan kann mit allen ST Modellen mit Ausnahme des 1040STE
verwendet werden. Bei diesem Modell fiel ein ben&ouml;tigtes Signal
der Integration zum Opfer und ist nicht mehr zug&auml;nglich, sondern
direkt auf einem Chip verschaltet.
<br>
</p>
<p>Am Anfang steht der Einbau des kleinen Platinchens, auf dem sich
die beiden GAL- Bausteine befinden.
<br>
</p>
<p>Es erhebt sich ein kleiner Kabelbaum aus der Schaltung, denn
immerhin m&uuml;ssen zehn Verbindungen an verschiedene Stellen auf der
ST-Platine gezogen werden.
<br>
</p>
<p>Neben dem Auffinden dieser Punkte und der L&ouml;tarbeit sind noch
drei Leiterbahnen auf der ST-Platine zu durchtrennen. Aufgrund eines
Layout-Fehlers mu&szlig; bei einigen MEGA-Modellen ein weiterer
Kontakt durchtrennt werden. Sind die Verbindungen gezogen, kann das
Overscan-Platinchen im Rechner verstaut werden, was durch einen
einfachen Haftsteifen unterst&uuml;tzt wird. Im Bild hat Overscan
neben dem 68000 Platz gefunden und ger&auml;t auch nicht mit einem
pc-speed ins Gehege. Sollten andere Zusatzplatinen vorhanden sein, ist
die Plazierung der Overscan-Schaltung ebenfalls problemlos.
<br>
</p>
<p>Der Einbau ist nicht unbedingt f&uuml;r Anf&auml;nger geeignet, da
die entsprechenden L&ouml;tpunkte auf der Platine nat&uuml;rlich exakt
verbunden werden m&uuml;ssen und die Leiterbahnen auf einer modernen
Platine wie der des ST sehr fein sind. Traut man sich den Einbau nicht
zu, sollte man ihn besser einem <a href="1907.htm" target="UDOcon">H&auml;ndler</a> oder einem versierten
Bekannten &uuml;berlassen.
<br>
</p>
<p>Das 48-seitige Handbuch beschreibt den Einbau detailliert in 18
Schritten und gibt einige Tips, falls nicht sofort das gew&uuml;nschte
Ergebnis eintritt. Mehrere Grafiken beschreiben die Lage der
durchzutrennenden Leiterbahnen und der L&ouml;tpunkte f&uuml;r die
verschiedensten ST-Modelle und -Platinen. Das Handbuch sollte keine
Fragen zum Einbau offen lassen.
<br>
</p>
<p>Der Software-Treiber OVERSCAN.PRG mu&szlig; von der mitgelieferten
Diskette in den AUTO-Ordner kopiert werden. Damit wird bei jedem
Booten automatisch die Overscan-Darstellung eingeschaltet. Beim ersten
Start mu&szlig; die Software auf den verwendeten Monitor konfiguriert
werden, wozu auf Festhalten einer Shift-Taste beim Booten ein
Men&uuml; erscheint.
<br>
</p>
<p>Ein Rechteck zeigt dann den momentan von Overscan genutzten
Bildschirmbereich an. Er kann mit den Pfeiltasten so
vergr&ouml;&szlig;ert oder verkleinert werden, da&szlig; er
vollst&auml;ndig auf dem Monitor angezeigt wird. Mit dem Zehnerblock
l&auml;&szlig;t sich auch die Lage des angezeigten Monitor-Bilds
ver&auml;ndern, so da&szlig; eine Anpassung an die F&auml;higkeiten
des Monitors einfach und interaktiv m&ouml;glich ist.
<br>
</p>
<p>Weiterhin existieren verschiedene Optionen bei der Konfiguration.
So kann bei einem Farbmonitor die Aufl&ouml;sung, die
Darstellungsfrequenz und die Farbe des Bildschirmrands gewechselt
werden.
<br>
</p>
<p>Da die ST-interne Hardcopy-Routine ihre Macken hat und mit einem
gro&szlig;en Bildschirmspeicher nicht umgehen kann, l&auml;&szlig;t
sich Overscan so einstellen, da&szlig; beim Ausl&ouml;sen einer
Hardcopy der gesamte Overscan-Bildschirminhalt in eine Datei im
GEM-Image-Format geschrieben wird. Im Schwarz-Wei&szlig;-Betrieb
l&auml;&szlig;t sich die Aufl&ouml;sungsumschaltung durch eine
Zusatzspeicher-Option beschleunigen.
<br>
</p>
<p>Hat man alle Einstellungen nach Wunsch get&auml;tigt, werden sie
in OVERSCAN.PRG abgespeichert und stehen beim n&auml;chsten Booten
sofort bereit. Will man - aus welchen Gr&uuml;nden auch immer - nur
kurzzeitig eine andere Bildschirmaufl&ouml;sung benutzen, kann das
Konfigurations-Men&uuml; auch ohne Abspeichern verlassen werden.
<br>
</p>
<p>Beim n&auml;chsten Booten f&auml;hrt der Treiber dann die
Bildschirmaufl&ouml;sung mit einem optischen Effekt auf die
konfigurierten Werte hoch. Es erscheint der <a href="0903.htm" target="UDOcon">Desktop</a> und der seinen
festen Bildschirmrahmen gewohnte Benutzer wird zun&auml;chst einmal
den Atem anhalten.
<br>
</p>
<p>Neben dem offensichtlichen Aufl&ouml;sungsgewinn (in den
Farbaufl&ouml;sungen l&auml;&szlig;t sich die Pixel-Anzahl glattweg
verdoppeln) sieht man auch, da&szlig; hier mit einem normalen ST auch
die Mehrspalten-Darstellung der Directory- Fenster m&ouml;glich ist.
Ohne &Uuml;bertreibung - man f&uuml;hlt sich fast wie auf einem
Gro&szlig;bildschirm.
<br>
</p>
<p>Leider hat sich schon mit dem Aufkommen von Gro&szlig;bildschirmen
oder dem Software-Emulator BigScreen gezeigt, da&szlig; viele
ST-Programme nicht aufl&ouml;sungsunabh&auml;ngig programmiert sind.
Dies reicht von einfacheren Problemen wie festen
Maximalgr&ouml;&szlig;en f&uuml;r Fenster bis zu Programmen, die
direkt in den - vermeintlich normalen - Bildschirmspeicher schreiben.
Letztere liefern bei ver&auml;nderter Bildschirmgr&ouml;&szlig;e wilde
Bitmuster und sind in einer solchen Konfiguration nicht zu gebrauchen.
Ursache daf&uuml;r ist sicher das Fehlen fester Atari- Richtlinien
f&uuml;r die Programmierung, wie sie beispielsweise Apple f&uuml;r
seinen Macintosh durchgesetzt hat.
<br>
</p>
<p>Dieses Problem wird sich nicht nur bei Systemen mit
Gro&szlig;bildschirmen bemerkbar machen, sondern auch auf den neuen
Atari-Maschinen TT und EST, die bekanntlich erheblich mehr
Aufl&ouml;sungsmodi bieten. Aber auch auf einem mit Overscan
ausger&uuml;steten normalen ST machen einige Programme
Schwierigkeiten. Das Problem wird gel&ouml;st, indem man Overscan
einfach mitteilt, welche Programme nicht in der erweiterten
Aufl&ouml;sung laufen. Ruft man solche Software vom <a href="0903.htm" target="UDOcon">Desktop</a>, aus einer
Shell oder anderen Programmen auf, schaltet Overscan automatisch ohne
da&szlig; irgendwelche Eingaben n&ouml;tig w&auml;ren auf die alte
Originalaufl&ouml;sung. Wird ein aufl&ouml;sungsabh&auml;ngiges
Programm beendet, tritt wieder der erweiterte Overscan- Modus in
Kraft.
<br>
</p>
<p>Festgelegt wird der gew&uuml;nschte Aufl&ouml;sungmodus in einer
ASCII-Datei OVERSCAN.INF, die beim Booten eingelesen wird. Dort
k&ouml;nnte man beispielsweise mit einem Eintrag &quot;GULAM.PRG
-&quot; ausw&auml;hlen, da&szlig; die Shell Gul&auml;m nicht in hoher
Aufl&ouml;sung gefahren wird. &Uuml;brigens bleibt hier die
eingestellte Aufl&ouml;sung beim Aufruf weiterer Programme aus der
Shell erhalten - es sei denn, man h&auml;tte beispielsweise mit einem
Eintrag &quot;WORDPLUS.PRG +&quot; festgelegt, da&szlig; WordPlus
immer in der h&ouml;heren Aufl&ouml;sung gestartet wird.
<br>
</p>
<p>Bei der Erstellung der Eintr&auml;ge kann man &uuml;brigens auch
Listen mit Programmnamen schreiben, f&uuml;r die eine Einstellung
gemeinsam gelten soll oder Wildcards verwenden. Die .INF-Datei wird
beim Einlesen gepackt, wof&uuml;r ein Datenraum von maximal vier KB
bereitsteht. Gerade durch die Wildcard d&uuml;rfte dies ausreichen.
<br>
</p>
<p>Man wird also w&auml;hrend der Arbeit mit seinen Programmen
feststellen, ob ein Programm aufl&ouml;sungsunabh&auml;ngig ist.
Trifft dies nicht zu, tr&auml;gt man einfach den Namen mit einem
Editor in die Info-Datei ein und nach dem n&auml;chsten Booten stellt
Overscan automatisch den gew&uuml;nschten Modus ein. Will man sofort
mit einem problematischen Programm arbeiten, kann man durch
Dr&uuml;cken von Alternate+Control beim Doppelklick auf dem <a href="0903.htm" target="UDOcon">Desktop</a>
manuell die original ST- Aufl&ouml;sung anw&auml;hlen. Diese
Tastenkombination l&auml;&szlig;t sich &uuml;brigens durch einen im
Handbuch beschrieben Patch mit einem Disk-Monitor &auml;ndern.
<br>
</p>
<p>Der Software-Treiber mu&szlig; bei der Umschaltung der
Aufl&ouml;sung eine ganze Reihe von <a href="0901.htm" target="UDOcon">Betriebssystem</a>-Variablen
ver&auml;ndern. Gleichzeitig h&auml;ngt er sich in fast alle System-
Trap-Vektoren ein, um das Verhalten einiger Funktionen zu &auml;ndern.
Der Treiber arbeitet mit allen TOS-Versionen, darunter auch das
&quot;durchgepatchte&quot; KAOS. Lediglich bei der Uraltversion des
ersten ROM-TOS sind Patches n&ouml;tig.
<br>
</p>
<p>F&uuml;r den Programmierer implementiert der Software-Treiber
zus&auml;tzliche XBIOS- Funktionen, mit denen beispielsweise die
Versionsnummer abgefragt oder die Aufl&ouml;sung von einem Programm
aus umgeschaltet werden kann. In einem Header- File f&uuml;r TURBO-C
werden die Funktionen zug&auml;nglich gemacht.
<br>
</p>
<p>Da Overscan auch implizit eine Testm&ouml;glichkeit f&uuml;r die
Aufl&ouml;sungsunabh&auml;ngigkeit eigener Programm ist, sollte unter
Overscan selbsterstellte Software zu den verschiedensten
Aufl&ouml;sungen kompatibel sein. Auf welche Feinheiten man in der
Programmierung man dabei zu achten hat, und mit welchen GEM-Funktionen
man beispielsweise die X-Aufl&ouml;sung wirklich sicher abfragt,
erl&auml;utert ein kurzer, aber sehr interessanter Text auf der
Diskette. Zwei Beispielprogramme in GFA und C sowie C-Routinen zur
aufl&ouml;sungsgerechten Verwendung von Image-Daten bei Icons runden
die zus&auml;tzliche Software ab.
<br>
</p>
<p>&Uuml;brigens l&auml;&szlig;t sich die erh&ouml;hte Aufl&ouml;sung
beispielsweise mit pc-speed schon seit geraumer Zeit nutzen. Durch
Auswahl der Bildschirminstallation &quot;HYPER-HERC&quot; kann mit
Overscan eine Hercules-Karte emuliert werden. Nach Angaben der
Entwickler sollen auch der Mac-Emulator Spectre und der QL-Emulator an
Overscan angepa&szlig;t werden.
<br>
</p>
<p>Bezugsadresse:
<br>Overscan GbR Isakovic, Hartmann, Jerchel
<br>S&auml;ntisstr. 166
<br>D-1000 Berlin 48
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>
<ul>
<li>18.18.1 <a href="121201.htm" target="UDOcon">TT Overscan</a></li>
</ul>
<br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="12.htm" target="UDOcon"><img src="udo_up.gif" alt="Video" border=0 width="24" height="24"></a>
<a href="1211.htm" target="UDOcon"><img src="udo_lf.gif" alt="Composit Video" border=0 width="24" height="24"></a>
<a href="121201.htm" target="UDOcon"><img src="udo_rg.gif" alt="TT Overscan" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>

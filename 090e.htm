<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: Uhr Patch
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="09.htm" target="UDOcon"><img src="udo_up.gif" alt="Atari TOS" border=0 width="24" height="24"></a>
<a href="090d.htm" target="UDOcon"><img src="udo_lf.gif" alt="Mega ST Rom Table" border=0 width="24" height="24"></a>
<a href="090f.htm" target="UDOcon"><img src="udo_rg.gif" alt="OS9" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="Uhr_20Patch">9.14 Uhr Patch</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Patch f&uuml;r die interne <a href="1413.htm" target="UDOcon">Uhr</a> </tt>
<br>
<br>
</p>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p>IKBD2000 vom 1999-03-30
<br>
</p>
<p>TOS-Patch f&uuml;r die Tastaturprozessor-<a href="1413.htm" target="UDOcon">Uhr</a> und die Jahre 2000
bis 2079.
<br>
</p>
<p>Problem: Auf <a href="0305.htm" target="UDOcon">Atari ST</a> ohne Uhrenchip, auf denen die <a href="1413.htm" target="UDOcon">Uhr</a> des
Tastaturprozessors benutzt wird, wird ab dem Jahr 2000 das Jahr falsch
gelesen und gespeichert.
<br>
</p>
<p>Die Ursache ist, dass von den beiden in der Tastaturprozessoruhr
gespeicherten Ziffern 80 f&uuml;r die beiden letzten Stellen des
Jahres 1980 abgezogen wird. Durch den &Uuml;berlauf der
Ganzzahlsubtraktion ist das Ergebnis im Jahr 2000: 2^7 - 80 = 48. Dies
entspricht dem Jahr 1980 + 48 = 2028.
<br>
</p>
<p>L&ouml;sung f&uuml;r die Leute mit EPROMs f&uuml;r ihr TOS und
einem EPROMer: Die Addition und Subtraktion von 80 durch eine von 0
ersetzen. Damit funktioniert die <a href="1413.htm" target="UDOcon">Uhr</a> von 1980 bis 2079. Die anderen
Uhrenchips werden vom TOS auch so behandelt.
<br>
</p>
<p>Die Idee stammt von Philip Taylor &lt;philipt@dial.pipex.com&gt;,
der sie in comp.sys.atari.st f&uuml;r TOS 2.06 beschrieben hat. Die
Distanzen f&uuml;r die unten aufgef&uuml;hrten nationalen
TOS-Versionen habe ich herausgesucht und gepr&uuml;ft.
<br>
</p>
<p>Status: Public domain
<br>
</p>
<p>F&uuml;r andere TOS-Versionen nach $501400E982 und $80123C001B
suchen.
<br>
</p>
<dl>
<dt><b>RAM-TOS 1.00, DE:</b></dt><dd> 7089 = $1BB1: $50 -&gt; $00 7251 = $1C53: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 1.00, DE, FR, US:</b></dt><dd> 7459 = $1D23: $50 -&gt; $00 7621 = $1DC5: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 1.02, DE, FR, SE, SW-de, UK, US:</b></dt><dd> 7961 = $1F19: $50 -&gt; $00 8123 = $1FBB: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 1.04, DE, ES, SE, SW-de, US:</b></dt><dd> 12655 = $316F: $50 -&gt; $00 12833 = $3221: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 1.06, DE, ES, FR, US &amp; TOS 1.62, DE, FR, SE, UK, US:</b></dt><dd> 13305 = $33F9: $50 -&gt; $00 13127 = $3347: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 2.05, DE, FR, IT, SE, US:</b></dt><dd> 5551 = $15AF: $50 -&gt; $00 5729 = $1661: $80 -&gt; $00
<br>&nbsp;
<dt><b>TOS 2.06, DE, FR, SE, SW-de, UK, US:</b></dt><dd> 7825 = $1E91: $50 -&gt; $00 8003 = $1F43: $80 -&gt; $00
<br>&nbsp;
</dl>
<p>Liegt auch als IKBD2000.LZH in der MAUS Karlsruhe. +49 721 358887,
analog und ISDN, Gastdownload 04:30/02:40 und 03:00/04:00.
<br>
</p>
<ul>
<li> <a href="http://home.pages.de/~Rainer_Seitel/atari.html" target="_top">Rainer Seitel Homepage</a>
<br>&nbsp;
</li>
</ul>
<p>Ein Beitrag von Rainer Seitel
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="09.htm" target="UDOcon"><img src="udo_up.gif" alt="Atari TOS" border=0 width="24" height="24"></a>
<a href="090d.htm" target="UDOcon"><img src="udo_lf.gif" alt="Mega ST Rom Table" border=0 width="24" height="24"></a>
<a href="090f.htm" target="UDOcon"><img src="udo_rg.gif" alt="OS9" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>

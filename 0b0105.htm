<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: HD-Floppy Mitsubishi MF355
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0b01.htm" target="UDOcon"><img src="udo_up.gif" alt="Diskettenlaufwerke am Atari ST" border=0 width="24" height="24"></a>
<a href="0b0104.htm" target="UDOcon"><img src="udo_lf.gif" alt="Drive Select" border=0 width="24" height="24"></a>
<a href="0b02.htm" target="UDOcon"><img src="udo_rg.gif" alt="Floppyumschaltung" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="HD-Floppy_20Mitsubishi_20MF355">11.1.5 HD-Floppy Mitsubishi MF355</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> HD-Floppy Mitsubishi MF355C-XXXM(J) an Atari-ST </tt>
<br>
</p>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p>Der Umbau der <a href="1604.htm" target="UDOcon">ST-Computer</a> l&auml;uft schon seit einger Zeit an
meinem 520ST+ mit zwei HD-Diskettenlaufwerken fehlerfrei.
<br>
</p>
<p>Wichtig ist allerdings, dass der FDD-Controller schon ein
WD1772-02 ist, da auch ich erst den WD1772-00 im Rechner hatte und
natuerlich der Umbau zuerst ohne gr&ouml;sseren Erfolg war.(!nl)
</p>
<p>Das besondere ist das beide Laufwerke automatisch die
Diskettenkapazit&auml;t erkennen und so auch ein kopieren von 720KB
nach 1.44MB (Filecopy) wie bei PC m&ouml;glich ist.
<br>
</p>
<p>Die Schaltung f&uuml;r den ST besteht aus dem 16Mhz Oszillator und
dem analogen Umschalt-IC vom Type 74HCT4051 nach <a href="1604.htm" target="UDOcon">ST-Computer</a> 1/90.
<br>
</p>
<p>Zus&auml;tzlich wird vor dem Eingang des 74HCT4051 (Density
Eingang, vom Shugartbus Pin 2), dass Signal einmal invertiert, da die
Laufwerke ein Low bei HD-<a href="0b04.htm" target="UDOcon">Disketten</a> und ein High bei DD-<a href="0b04.htm" target="UDOcon">Disketten</a>
erzeugen. Beide Density (Pin 2) Ausg&auml;nge der <a href="0b.htm" target="UDOcon">Diskettenlaufwerke</a>
sind durch den Shugart-Bus verbunden, d.h. der Inverter (7406 ) ist
genau nur einmal n&ouml;tig.
<br>
</p>
<p>Den zweiten Teil, HD-Umschaltung nur bei <a href="0b0104.htm" target="UDOcon">Drive Select</a> und HD-Disk
im Laufwerk, habe ich weggelassen, da das HD-Signal bei diesem
Laufwerk anders beschaltet werden musste. Dieses w&auml;re bei zwei
Laufwerken auch relativ aufwendig und es funktioniert auch ohne,
allerdings mu&szlig; unbedingt beim Kaltstart des ST in beiden
Laufwerken eine 720KB(DD) Diskette liegen, da sonst z.B.: Nur in A
eine DD-Diskette B ohne Disk, Laufwerk B nicht erkannt wird.
<br>
</p>
<p>Eine &Auml;nderung der default Steprate von 3 ms auf 6 ms, durch
einen Patch im ROM w&uuml;erde diesen Fehler beseitigen. Vorsicht, nur
sinnvoll bei Multistep Laufwerken (3 ms bis 6 ms), wie z.B dem
Mitsubishi MF355C-252M
<br>
</p>
<p>Bei mir wurde dies vom Autoordner aus, durch das STEPXXXX.PRG von
Claus Brod (Scheibenkleister) erledigt.
<br>
</p>
<p>Aber jetzt das wichtigste:
<br>
<br>Eine Beschreibung der 1.44MB FDD's von Mitsubishi.
<br>
<br>
<br>Modelle:
<br>
</p>
<p>1.HD-Laufwerke mit 720KB/1.44MB und 3 ms Steprate
<br>
</p>
<p>MF355C-12M(J) CMOS-SHUGART-BUS,M = nur Loetbruecken,MJ mit Jumper
CMOS nach TTL UMBAURAHMEN mit INTERFACE notwendig.
<br>
<br>MF355C-52MJ TTL-SHUGART-BUS,MJ = mit Jumper mit und ohne
UMBAURAHMEN, mit und ohne CMOS nach TTL INTERFACE anschliessbar.
<br>
<br>
<br>2.HD-Laufwerke mit 720KB/1.44MB und 3 ms bis 6 ms Steprate
(Multistep)
<br>
</p>
<p>MF355C-212M CMOS-SHUGART-BUS,mit Jumper CMOS-INTERFACE notwendig.
(siehe oben)
<br>
<br>MF355C-252M TTL-SHUGART-BUS,mit Jumper mit und ohne
UMBAURAHMEN,mit und ohne CMOS nach TTL INTERFACE anschliessbar.
<br>
</p>
<p>
<br>&Uuml;brigens MF355 ist HD-FDD(720KB/1.44MB) und MF353 ist DD-FDD
(nur 720KB)
</p>
<p>Bei mir sind zwei MF355C-252M mit Umbaurahmen,ohne CMOS nach TTL
INTERFACE im Einsatz.
<br>
<br>
<br>
</p>
<p><b> Jumper fuer alle MF355C-XXM(J) und MF355C-XXXM: </b>
<br>
</p>
<p>
<br>
</p>
<p>Abkuerzungen: w=Jumper waagerecht gesetzt,s=Jumper senkrecht
gesetzt
<br>
<br>1.DS0 bis DS3(einige nur DS0 und DS1) = <a href="0b0104.htm" target="UDOcon">Drive Select</a>(w)
<br>
<br>2.DC(w) = gesetzt und SR(w) nicht gesetzt, Diskchange auf Pin 34
<br>
<br>(DC)(s)= gesetzt und DC(w),SR(w) nicht gesetzt,Diskchange auf Pin
2, nur moeglich wenn SW(w) gesetzt und HO(w) nicht gesetzt.
<br>
<br>SR(w) = gesetzt und DC(w),(DC)(s) nicht gesetzt,Standard Ready auf
Pin 34
<br>
<br>MM(w) = gesetzt und MS(w) nicht gesetzt,Motor On mit Motor On
Signal (Diskettenantriebsmotor)
<br>
<br>MS(w) = gesetzt und MM(w) nicht gesetzt,Motor On mit <a href="0b0104.htm" target="UDOcon">Drive Select</a>
(Diskettenantriebsmotor)
<br>
<br>IS(w) = gesetzt und IU(w) nicht gesetzt,In use LED leuchtet nur
wenn Drive selektiert ist
<br>
<br>IU(w) = gesetzt und IS(w) nicht gesetzt,In use LED leuchtet nur
wenn In use Leitung angesteuert wird
<br>
</p>
<p>
<br>
<br>3.Umschaltung zwischen DD und HD:
<br>
</p>
<p>a: SW(w) = und HD(s) gesetzt und HO(w),HI(s),LD(s) nicht
gesetzt,Um- schaltung der Density mit der eingelegten
Diskette,keinerlei Signal an Pin 2. Datenuebertragungsgeschwindigkeit
muss korrekt vom FDD-Controller angepasst sein.
<br>
<br>SW(w) = und HO(w),HD(s) gesetzt und HI(s), LD(s) nicht gesetzt,
Umschaltung &uuml;ber Diskette und Pin 2 ist Ausgang von FDD!
<br>720KB = High
<br>1.44MB = Low
<br>
<br>
<br>Wird hier am <a href="0305.htm" target="UDOcon">Atari ST</a> benutzt.
<br>
<br>b: HI(s) = und HD(s) gesetzt und SW(w),HO(w),LD(s) nicht
gesetzt,Pin 2 an FDD vom Shugart-Bus ist Eingang fuer die Density
Umschaltung
<br>Low = 1.44MB
<br>High = 720KB
<br>
<br>F&uuml;r PS/2 oder kompatibel.
<br>
<br>HI(s) = und LD(s) gesetzt und SW(w),HO(w),HD(s) nicht gesetzt,Pin
2 an FDD vom Shugart-Bus ist Eingang fuer die Density Umschaltung
<br>Low = 720KB
<br>High = 1.44MB
<br>
<br>Wird so am PC benutzt.
<br>
<br>Jumper f&uuml;r <a href="0305.htm" target="UDOcon">Atari ST</a> (angegeben heisst gesetzt):
<br>
<br>DS0(w) oder DS1(w),MM(w),IS(w),DC(w),SW(w),HO(w),HD(s),die letzten
3 sind f&uuml;r die Density Umschaltung wichtig!
<br>
</p>
<p>
<br>
<br>
</p>
<pre>
Lage der Jumper:
================

   POWER
  | DC  |           |&lt;----SHUGART BUS-------&gt;|
|-|-----|--------------------------------------|
|         - - DS0 <a href="0b0104.htm" target="UDOcon">Drive Select</a>                 |&lt;- Gussrahmen
|         - - DS1 (waagerecht =                |
|         - - DS2 Funktion !                   |
|         - - DS3               Jumperblock-   |  Jumperblock-
|                               beschriftung   |  beschriftung
|                               Teil 1/2       |  Teil 2/2
|                               (waagerecht =  |  (senkrecht =
|                               Funktion !)    |  Funktion !)
|                                 1- -2  HO    |    1- |2  H
|                                 3- -4  SW    |    3- |4  I
|                                 5- -6  IU    |    5- -6  IU siehe Teil 1 !
|                                 7- -8  IS    |    7- -8  IS siehe Teil 1 !
|                                 9- -10 MS    |    9- -10 MS siehe Teil 1 !
|                                11- -12 MM    |   11- -12 MM siehe Teil 1 !
|                                13- -14 SR    |   13- |14 D Originalbe-
|                                15- -16 DC    |   15- |16 C schriftung (DC)!
|                                              |
|                                              |
|                                              |
|                                      TP   JPA| TP=Testpins,nicht jumpern !
|                                      1 - | H |    (TP1 bis TP4)
|                                      2 - | D | HD und LD (senkrecht =
|                                      3 - | L | Funktion !)
|                                      4 - | D |
|                                              |
^                                              ^

</pre>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="0b01.htm" target="UDOcon"><img src="udo_up.gif" alt="Diskettenlaufwerke am Atari ST" border=0 width="24" height="24"></a>
<a href="0b0104.htm" target="UDOcon"><img src="udo_lf.gif" alt="Drive Select" border=0 width="24" height="24"></a>
<a href="0b02.htm" target="UDOcon"><img src="udo_rg.gif" alt="Floppyumschaltung" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>

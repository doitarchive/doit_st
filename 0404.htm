<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- last modified on 23.05.2004 -->
<html>
<head>
<title>
DOIT_ST - Tips u. Tricks zur Atari Serie: TT Diskettenlaufwerk
</title>
<meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<meta name="Generator" content="UDO6 PL14 for TOS">
<meta name="Email" content="doit@doitarchive.de">
<link rev=made href="mailto:doit@doitarchive.de" title="E-Mail">
<link rel=home href="doitst1h.htm" title="Homepage">
</head>
<body bgcolor="#FFFFFF" text="#000000" link="#0000FF" alink="#FF0000" vlink="#800080">

<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="04.htm" target="UDOcon"><img src="udo_up.gif" alt="Atari TT Series Hardware" border=0 width="24" height="24"></a>
<a href="0403.htm" target="UDOcon"><img src="udo_lf.gif" alt="TT Ram Tip" border=0 width="24" height="24"></a>
<a href="0405.htm" target="UDOcon"><img src="udo_rg.gif" alt="TT DMA" border=0 width="24" height="24"></a>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr>
<td valign=top width="8">&nbsp;</td><td valign=top width="100%">
<h1><a name="TT_20Diskettenlaufwerk">4.4 TT Diskettenlaufwerk</a></h1>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p><tt> Das Diskettenlaufwerk am Atari TT </tt>
<br>
<br>
</p>
<p><img src="image/deutsch.gif" border=0 width="35" height="22"></p><br>
<p>Das Diskettenlaufwerk am Atari TT und der MegaST(e) Serie
funktioniert eigentlich von der Hardware her genau wie am <a href="0305.htm" target="UDOcon">Atari ST</a>
auch. Einziger Unterschied, in diesen neueren Computern k&ouml;nnen
aller Regel nach auch HD-<a href="0b.htm" target="UDOcon">Diskettenlaufwerke</a> eingebaut und benutzt
werden.
<br>
</p>
<p>HD-<a href="0b.htm" target="UDOcon">Diskettenlaufwerke</a> bearbeiten 1.44 MB HD-<a href="0b04.htm" target="UDOcon">Disketten</a> genauso wie
die normal &uuml;blichen <a href="0b04.htm" target="UDOcon">Disketten</a> mit 720KB. Die Laufwerke erkennen
der Regel nach selbstst&auml;ndig welches Medium eingelegt wurde.
<br>
</p>
<p>Zum Betrieb eines HD-Diskettenlaufwerks wird nun einfach der
8Mhz-Takt des Floppycontrollers im Atari auf 16Mhz erh&ouml;ht.
Beachten Sie dabei aber das nicht alle Ausgaben des WD1772
Floppydiskcontrollers (U409) diesen doppelten Takt auch verkraftet!
Sie merken es einfach daran das der HD-Betrieb einfach nicht korrek
arbeitet und <a href="0b04.htm" target="UDOcon">Disketten</a> zerschossen werden.
<br>
</p>
<p>Im TT kommt der Takt von U206 von Pin 44. Ebenso liefert die MCU
auch das Signal zur Taktumschaltung. Eine Umschaltung des Laufwerks
von DD- nach HD-Betrieb kann man an Pin 2 des internen
Floppyanschlu&szlig; feststellen.
</p>
<p>HD-<a href="0b04.htm" target="UDOcon">Disketten</a> besitzen ein weiteres Erkennungsloch.
<br>
</p>
<p>Im Normalfall kann man am internen Floppyanschlu&szlig; (J401)
also direkt ein HD-Diskettenlaufwerk anschliessen. Am externen Port
(J402), der auf dem des AtariST entspricht, ist das ohne Umbauten
nicht m&ouml;glich. Einfach das alte Laufwerk gegen das neue ersetzen.
720K <a href="0b04.htm" target="UDOcon">Disketten</a> werden auch mit dem neuen Laufwerk bearbeitet, auch
wenn der HD-Betrieb erst mal nicht klappt.
<br>
</p>
<p>Einige Steuerleitungen des WD1772 werden &uuml;ber ein TTL-IC
LS7406 (U405) gebuffert, tritt ein Fehler auf, sollten Sie diesen Chip
zuerst untersuchen.
<br>
</p>
<p>
<br>
<br><b> externes Diskettenlauferk f&uuml;r einen TowerTT </b>
<br>
</p>
<p>
<br>
</p>
<p>
<br>
</p>
<div align=center><table border=1 frame=box>
<caption align=bottom>Tabelle 15: 34 way connector on floppy drive (5.25 card edge - 3.5 pin header)</caption>
<tr>
  <td align=left valign=top>Signal</td>
  <td align=left valign=top>Pin</td>
  <td align=left valign=top>Pin</td>
  <td align=left valign=top>Signal</td>
</tr>
<tr>
  <td align=left valign=top></td>
  <td align=left valign=top></td>
  <td align=left valign=top></td>
  <td align=left valign=top></td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>1</td>
  <td align=left valign=top>2</td>
  <td align=left valign=top>Reserved (High Density Detected on some HD drives)</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>3</td>
  <td align=left valign=top>4</td>
  <td align=left valign=top>In Use/Head Load/Open</td>
</tr>
<tr>
  <td align=left valign=top></td>
  <td align=left valign=top></td>
  <td align=left valign=top></td>
  <td align=left valign=top>keyslot only on 5.25 disks</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>5</td>
  <td align=left valign=top>6</td>
  <td align=left valign=top><a href="0b0104.htm" target="UDOcon">Drive Select</a> 3</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>7</td>
  <td align=left valign=top>8</td>
  <td align=left valign=top>Index Pulse Sensor</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>9</td>
  <td align=left valign=top>10</td>
  <td align=left valign=top><a href="0b0104.htm" target="UDOcon">Drive Select</a> 0</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>11</td>
  <td align=left valign=top>12</td>
  <td align=left valign=top><a href="0b0104.htm" target="UDOcon">Drive Select</a> 1</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>13</td>
  <td align=left valign=top>14</td>
  <td align=left valign=top><a href="0b0104.htm" target="UDOcon">Drive Select</a> 2</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>15</td>
  <td align=left valign=top>16</td>
  <td align=left valign=top>Motor ON</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>17</td>
  <td align=left valign=top>18</td>
  <td align=left valign=top>Direction IN Select</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>19</td>
  <td align=left valign=top>20</td>
  <td align=left valign=top>Step Pulse</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>21</td>
  <td align=left valign=top>22</td>
  <td align=left valign=top>Write Data Pulses</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>23</td>
  <td align=left valign=top>24</td>
  <td align=left valign=top>Write Gate</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>25</td>
  <td align=left valign=top>26</td>
  <td align=left valign=top>Track 00 Sensor</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>27</td>
  <td align=left valign=top>28</td>
  <td align=left valign=top>Write Protect Sensor</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>29</td>
  <td align=left valign=top>30</td>
  <td align=left valign=top>Read Data Pulses</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>31</td>
  <td align=left valign=top>32</td>
  <td align=left valign=top>Side ONE Select</td>
</tr>
<tr>
  <td align=left valign=top>GND</td>
  <td align=left valign=top>33</td>
  <td align=left valign=top>34</td>
  <td align=left valign=top>Drive Ready</td>
</tr>
</table></div>

<p>
<br>
</p>
<p>All signals are active LOW ie the signal is normally high (for
example to switch the Motor ON signal active, pin 16 should be
connected to 0 volts). So be careful plugging in the cables.
<br>
</p>
<pre>
Male Power connector on drive
  3.5     5.25
          ---.
  |o     / o | pin 1  +12 volts DC (may not be required by disk drive)
  |o     | o | pin 2  0v
  |o     | o | pin 3  0v
  |o     \ o | pin 4  +5 volts DC
          ---

Cable connections for external floppy drive.

     14 pin TT      34 way IDC
        pin no          pin no
        1   &lt;----------  30
        2   ----------&gt;  32
        3   -----------   1,3,5,7 etc (any odd numbered pin)
        4   &lt;----------   8
        5   ----------&gt;  10
        6   &lt;----------   2   (for use with a High Density Drive? )
        7   -----------   1,3,5,7 etc (any odd numbered pin)
        8   ----------&gt;  16
        9   ----------&gt;  18
        10  ----------&gt;  20
        11  ----------&gt;  22
        12  ----------&gt;  24
        13  &lt;----------  26
        14  &lt;----------  28

</pre>
<p>
<br>To connect two floppy drives internaly in a tower cased TT
computer, use the following simple cable:
<br>
</p>
<p>34 way flat cable connector on motherboard &gt;
<br>&gt; 34 way flat cable connector to 1st Floppy drive &gt;
<br>34 way flat cable connector to 2nd Floppy drive.
<br>
<br>
</p>
<p>The floppy disk drive mechanism should have internal jumper
positions to select the drive required. For drive A the <a href="0b0104.htm" target="UDOcon">Drive Select</a> 0
jumper should be made, and for drive B the <a href="0b0104.htm" target="UDOcon">Drive Select</a> 1 jumper
should be made.
<br>
</p>
<p>A single wire modification is required on the mother board to
connect the drive 1 select (D1SEL) signal to the 34 way motherboard
connector, as this signal is only connected to the 14 pin floppy
connector. Connect 34 Way pin 12 to U406 (26LS31) pin 6 or RP41 pin 4
(1K pullup).
<br>
</p>
<p>This is probably the easyest way to do it as the flat cable is
easily made with the IDC connectors.
<br>
</p>
<p>From Dennis Armstrong, CODAS, JET, Abingdon, Oxfordshire, OX14 3EA
<br>mailto:Dennis.Armstrong@jet.uk
<br>
</p>
<p>
<br>
<br>
</p>
<p align=center><img src="image/sline.gif" border=0 width="640" height="2"></p><br>
<p align=center><img src="image/img.gif" border=0 width="50" height="40"></p><br>

<hr>
<address>Copyright &copy; <a href="http://www.doitarchive.de/">Robert Schaffner</a> (<a href="mailto:doit@doitarchive.de">doit@doitarchive.de</a>)<br>
Letzte Aktualisierung am 23. Mai 2004</address>
</td></tr></table>
<table border=0 cellpadding=0 cellspacing=0 width="100%"><tr><td valign=top>
<a href="00con.htm" target="UDOcon"><img src="udo_hm.gif" alt="Home" border=0 width="24" height="24"></a>
<a href="04.htm" target="UDOcon"><img src="udo_up.gif" alt="Atari TT Series Hardware" border=0 width="24" height="24"></a>
<a href="0403.htm" target="UDOcon"><img src="udo_lf.gif" alt="TT Ram Tip" border=0 width="24" height="24"></a>
<a href="0405.htm" target="UDOcon"><img src="udo_rg.gif" alt="TT DMA" border=0 width="24" height="24"></a>
</td></tr></table>
</body></html>
